# AI Coloring Book Creator - 浏览器测试指南

## 测试环境要求
- 现代浏览器（Chrome, Firefox, Safari, Edge）
- 网络连接（用于API调用）

## 测试步骤

### 1. 启动开发服务器
```bash
npm run dev
```
服务器将在 http://localhost:3000 运行

### 2. 功能测试清单

#### 基础功能测试
- [ ] 页面正常加载，无JavaScript错误
- [ ] 输入表单显示正常（主题输入框、姓名输入框、生成按钮）
- [ ] 聊天机器人按钮显示在右下角

#### 表单验证测试
- [ ] 空主题和姓名时显示错误提示
- [ ] 主题少于3字符时显示错误提示
- [ ] 输入有效数据后可以提交

#### 图片生成测试
- [ ] 点击"Generate Coloring Book"后显示加载动画
- [ ] 加载过程中显示动态消息（"Getting creative ideas..."等）
- [ ] 成功生成6张图片（1张封面 + 5张内容）
- [ ] 图片显示为黑白线稿风格
- [ ] 图片加载失败时显示占位图

#### PDF生成测试
- [ ] "Download as PDF"按钮在图片生成后显示
- [ ] 点击按钮后下载PDF文件
- [ ] PDF文件包含所有生成的图片
- [ ] PDF文件名格式：{child-name}-coloring-book.pdf

#### 聊天机器人测试
- [ ] 点击聊天按钮打开聊天窗口
- [ ] 可以输入消息并发送
- [ ] AI回复合适的主题建议
- [ ] 聊天历史保持上下文

#### 错误处理测试
- [ ] 网络错误时显示友好的错误消息
- [ ] API配额用尽时显示相应错误
- [ ] 无效输入时显示验证错误

### 3. 性能测试
- [ ] 图片生成时间（预计30-60秒）
- [ ] PDF生成时间（预计1-3秒）
- [ ] 页面响应速度

### 4. 兼容性测试
- [ ] 桌面浏览器（Chrome, Firefox, Safari, Edge）
- [ ] 移动设备浏览器（iOS Safari, Chrome Mobile）
- [ ] 不同屏幕尺寸下的响应式布局

## 已知问题及解决方案

### 问题1: API调用失败
**症状**: 图片生成失败，显示错误消息
**原因**: API密钥无效或配额用尽
**解决**: 检查.env文件中的VITE_GEMINI_API_KEY

### 问题2: PDF生成失败
**症状**: 点击下载PDF无反应或报错
**原因**: 浏览器安全设置或jsPDF库问题
**解决**: 确保浏览器允许下载，检查控制台错误

### 问题3: 图片显示为占位图
**症状**: 所有图片显示"Image X failed to load"
**原因**: 图片生成失败或响应格式不正确
**解决**: 检查API响应格式，查看浏览器控制台

## 测试记录

| 测试项目 | 状态 | 备注 |
|---------|------|------|
| 基础功能 | ⏳ 待测试 |  |
| 表单验证 | ⏳ 待测试 |  |
| 图片生成 | ⏳ 待测试 |  |
| PDF生成 | ⏳ 待测试 |  |
| 聊天机器人 | ⏳ 待测试 |  |
| 错误处理 | ⏳ 待测试 |  |

## 自动化测试脚本

运行以下命令进行自动化测试：
```bash
# 功能测试
node test-functionality.js

# 端到端测试（需要Playwright/Puppeteer）
# npm run test:e2e
```
